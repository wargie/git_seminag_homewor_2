# Работа с Git
## Проверка наличия установленного Git
В терминале выполнить команду
```
git --version
```
Если Git установлен правильно - мы получим версию программы.
В противном случае мы получим сообщение об ошибке!
## Установка Git
Загружаем последнюю версию Git  с сайта:
https://git-scm.com/download/win
и устанавливаем с настройками "по умолчанию".
## Установка Visual Studio Code
Загружаем последнюю версию Git  с сайта:
https://code.visualstudio.com/download
и устанавливаем с настройками " по умолчанию ".
## Настройка Git
При первом использовании Git необходимо представиться
```
git config --global user.name your name
git config --global user.email your e-mail
```
## Создание и инициализация репозитория
*Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жёстком диске.*

Для начала нужно создать папку, в которой будут храниться файлы нашего проекта и которую будет отслеживать Git.
Затем открыть её, используя меню "Файл".

Инициализируем наш репозиторий, используя следующую команду в терминале:
```
git init
```
## Проверка статуса репозитория
Для проверки текущего состояния репозитория следует воспользоваться командой:
```
git status
```
## Добавление файла
Для начала, в проводнике VSC создадим новый файл "Git_instruction.md"
Для добавления этого файла в наш репозиторий мы будем использовать в терминале команду:
```
git add <File.name>
```
*Важно отметить, что команда `git add` не только добавляет новые файлы, но и все изменения в файлах, которые были внесены ранее.*
## Создание версии проекта (коммита)
После того, как мы добавили файл в наш репозиторий, мы можем создать версию проекта. С помощью команды:
```
git commit -m "comment"
```

*По-английски commit значит «фиксировать». Git-коммит — это операция, которая берет все подготовленные изменения и отправляет их в репозиторий как единое целое.*

То есть **_коммит_** — это некое логически завершённое изменение внутри проекта и понятная (в том числе и другим разработчикам) точка, к которой можно вернуться, если возникнут какие-то проблемы.

Каждая новая версия должна сопровождаться комментарием. Это делает работу над проектом понятной, прозрачной и структурированной.

Как правило, рабочий процесс представляет собой цикл: коммит — изменение файлов — коммит.
## Просмотр коммитов и возврат 
Для просмотра изменений, сделанных в последнем коммите, используем команду:
```
git show
```
Для просмотра списка всех коммитов, воспользуйтесь командой:
```
git log
```
Однако же, стоит заметить, что существует ещё один способ, позволяющий уменьшить количество информации, выдаваемой на экран. С параметром `--oneline` каждый коммит показывается в одну строчку, но в данном случае вы не видим информации о времени и авторе коммитов.

*В Git не существует традиционной системы отмены, как в текстовых редакторах. Лучше воздержаться от сопоставления операций Git с какой бы то ни было привычной для нас концепцией отмены изменений. Кроме того, Git имеет собственную систему терминов для операций отмены. В числе таких терминов — `сброс (reset),` `возврат (revert),` `переключение (checkout),` `очистка (clean)` и другие.*

Применительно к нашему случаю, в Git под возвратом или переключением между различными версиями целевого объекта - коммитами - понимают термин checkout.
Для возврата, прежде всего, нужно найти идентификатор редакции (коммита), в которую вы хотите вернуться. Для этого используем команду:
```
git log
```
После того как мы нашли ссылку на нужный коммит в истории, для перехода к нему можно использовать команду:
```
git checkout "уникальный идентифицирующий хеш коммита" (использовать без кавычек)
```
После внесения необходимых изменений их следует добавить и вернуться в актуальное состояние командой:
```
git checkout <название ветки> (в нашем случае master)
```
## Сравнение внесённых изменений
Для вывода изменений в файлах по сравнению с последним коммитом, используется команда 
```
git diff (без параметров)
```
Важно, что в данном случае команда выводит изменения в файлах, которые ещё не были добавлены в индекс. Сравнение происходит с последним коммитом.

Однако, если мы изменили какие-нибудь файлы в вашем рабочем каталоге и добавили один или несколько из них в индекс (`с помощью git add`), то команда `git diff` не покажет изменения в этих файлах. Для того, чтобы показать изменения в наших файлах, включая файлы, которые были добавлены нами в индекс, используется уже известную комманду с ключом
```
git diff --cached
```
## Игнорирование файлов
Для того, чтобы исключить из отслеживания в репозитории определённый файл (группу файлов и папок).ю необходимо стоздать там файл `.gitignore` и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.

`.gitignore` использует glob шаблоны для сопоставления имен файлов с символами подстановки. Это может напоминать регулярные выражения. Если у нас есть файлы или папки, содержащие шаблон подстановки (например *), вы можете использовать один обратный слеш ( \ *), чтобы экранировать такой символ.

Строки, начинающиеся со знака хэша (#), являются комментариями и игнорируются. Пустые строки могут быть использованы для улучшения читабельности файла и группировки связанных строк шаблонов.

Символ косой черты, слэш, (/) является разделителем адреса папок. Слэш в начале шаблона относится к директории, в которой находится файл `.gitignore`.
Если шаблон начинается со слеша, то он соответствует файлам и каталогам только в корне хранилища.
Однако, если шаблон не начинается со слэша, он соответствует файлам и каталогам в любом каталоге или подкаталоге.
В случае, когда шаблон заканчивается знаком слэш, он соответствует только каталогам. Когда каталог игнорируется, все его файлы и подкаталоги также игнорируются.
## Создание веток в Git
Ветка в Git простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов. По уполчанию, имя овновной ветки в Git - `master`.  Создать ветку можно коммандой:
```
git branch <название новой ветки>
```
Чтобы при создании ветки сразу на неё переключиться необходимо воспользоваться командой:
```
git checkout -b <имя новой ветки>
```
## Слияние веток
Для начала необходимо определиться с терминологией:

**_Ветка_** – независимая последовательность коммитов.

**_Сливаемая ветка_** – ветка, из которой мы берем изменения, чтобы влить их в целевую.

**_Целевая ветка_** – ветка, в которую мы сливаем наши изменения.

**_Слияние веток_** – это перенос изменений из одной ветки в другую. При этом слияние не затрагивает сливаемую ветку, то есть она остается в том же состоянии, что позволяет нам потом продолжить работу с ней.

Первоначально мы работаем в основной (целевой) ветке. Она называется master.
Целью создания дополнительных веток является проработка отдельных элементов проекта автономно, а затем присоединение их к проекту. В большинстве случаев эти ветки в итоге объединяются с веткой *master*. Процедура объединения веток называется *слиянием (merge)*.

Для слияния текущей ветки с либой дрйгой веткой используем команду:
```
git merge <имя ветки, которую хотим присоединить>
```
## Разрешение конфликтов
При слиянии может возникнуть ситуация, когда фрагмент в каком-либо файле проекта в различных ветках отредактирован по разному. Такая ситуация называется конфликт (**_conflict_**).

Иными словами, если мы изменили одну и ту же часть одного и того же файла по-разному в двух объединяемых ветках, Git не сможет их чисто объединить и мы получим сообщение о конфликте слияния. И, следовательно, Git не создал коммит слияния автоматически. Он остановил процесс до тех пор, пока мы не разрешим конфликт. 
Начало конфликтного фрагмента помечается строкой, начинающиеся с символов 
< и содержащей имя первой ветки, а заканчивается строкой, начинающиеся с символов > и содержащей имя вливаемой ветки. Версии из каждой ветки разделяются строкой с символами =. Такой файл получает статус не объединенный (**_unmerged_**).

На выбор мы получаем четыре команды:
```
accept current change - принять текущее изменение
accept incoming change - принять входящие изменения
accept both changes - принять оба изменения
compare changes - сравнить изменения
```

При возникновении конфликта мы должны в ручном режиме его устранить. После редактирования конфликтной области и сохранения файла, нужно сообщить git о разрешении конфликта с помощью индексирования этого файла (после чего он перейдет в состояние «измененный»).
## Удаление веток
Для организации разработки различных версий дркумента в Git, как было описано выше, мы используем ветки. Ветки также очень часто используются для разработки какого-либо нового функционала или инструментария. Если разработкой продукта занимается группа, каждый разработчик может работать над своей частью функциональности в отдельной ветке.

В итоге, когда работы будут завершены, получившуюся ветку мы совмещаем с основной перед этим отправив её на проверку коллегам. При таком типе организации рабочего процесса со временем в нашем репозитории накапливается очень много ненужных или пустых веток, которые надо удалять.

Прежде чем что-либо удалять следует проверить, какие ветки есть в проекте. Для того чтобы посмотреть ветки используем команду:
```
git branch
```
Данная команда выведет список наших веток, а текущая ветка, в ктороый мы находимся, будет выделена зеленым цветом и звездочкой.

Для того чтобы удалить ветку необходимо использовать комманду:
```
git branch -d <название ветки>
```
Если в этой ветке есть не зафиксированные изменения или коммиты, то Git откажется её удалять. Для того чтобы всё же удалить такую ветку используйте комманду:
```
git branch -D <название ветки>
```
После этого проверяем список веток коммандой:
```
git branch
```
Если всё сделано верно, то удалённой ветки мы не увидим.
